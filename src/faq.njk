---
layout: layout.njk
pagination:
  data: orcwgImport.faq
  size: 1
  alias: faq
  resolve: values
permalink: "{{ faq.url }}"
eleventyComputed:
  title: "{{ faq.question }}"
---

<div class="question">
  <h2>{{ faq.question | markdown | safe }}</h2>
</div>

<div class="answer">
  {{ faq.answer | markdown | safe }}
</div>

{% if faq.status == "draft" %}
<div class="faq-status-display">
  <p><strong>‚ö†Ô∏è This FAQ is a draft</strong> - it hasn't been reviewed by the FAQ Task Force. The answer may be incomplete or incorrect.</p>
</div>
{% endif %}

{% if faq.guidanceKey %}
{% set guidance = orcwgImport.guidance[faq.guidanceKey] %}
<div class="faq-status-display">
  <p><strong>üõë Pending Guidance</strong></p>
    <div class="guidance-content">
      <p>This FAQ awaits commission guidance on:</p>
      <p class="guidance-phrase">{{ guidance.summary }}</p>
    </div>
    <div class="guidance-actions">
      <a href="/pending-guidance/{{ faq.guidanceKey }}/" class="guidance-link">View full guidance request ‚Üí</a>
    </div>
</div>
{% endif %}

<button class="admin-toggle" onclick="toggleAdminMode()" title="Toggle admin information">
  ‚úèÔ∏è
</button>

<div class="admin-info" style="display: none;">
  {% if faq.guidanceKey %}
  <div class="pending-guidance-link">
    <strong>üõë Related Pending Guidance:</strong> <a href="/pending-guidance/{{ faq.guidanceKey }}/">{{ faq.guidanceKey | replace('-', ' ') | title }}</a>
    <p><em>This FAQ is affected by pending guidance that is currently being developed.</em></p>
  </div>
  {% endif %}

  {% if faq["Related issue"] %}
  <div class="related-issue">
    <strong>Related issue:</strong> <a href="{{ faq["Related issue"] }}">{{ faq["Related issue"] }}</a>
  </div>
  {% endif %}

  <div class="edit-on-github">
    <span class="edit-icon">‚úèÔ∏è</span>
    <a href="{{ faq.githubEditUrl }}" target="_blank" rel="noopener">Edit this FAQ on GitHub</a>
  </div>
</div>

<script>
function toggleAdminMode() {
  const adminInfo = document.querySelector('.admin-info');
  const button = document.querySelector('.admin-toggle');

  if (adminInfo.style.display === 'none' || adminInfo.style.display === '') {
    adminInfo.style.display = 'block';
    button.classList.add('active');
    button.title = 'Hide admin information';
  } else {
    adminInfo.style.display = 'none';
    button.classList.remove('active');
    button.title = 'Toggle admin information';
  }
}
</script>
